{"version":3,"file":"static/js/257.117f3998.chunk.js","mappings":"yOAuJA,EA9Ia,WACX,IAAMA,EAAQC,aAAaC,QAAQ,SAE7BC,EAAUC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,mBAE5B,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAkCF,EAAAA,EAAAA,UAAS,MAA3C,eAAOG,EAAP,KAAkBC,EAAlB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,IAAAA,IAAA,UACUT,EADV,gBACiC,CAC7BU,QAAS,CACPC,cAAc,SAAD,OAAWd,MAG3Be,MAAK,SAACC,GAELR,EAAQQ,EAAIC,KAEb,IACAC,OAAM,SAACC,GACNC,QAAQC,IAAI,SAAUF,EACvB,IAEHP,IAAAA,IAAA,UACUT,EADV,UAC2B,CACvBU,QAAS,CACPC,cAAc,SAAD,OAAWd,MAG3Be,MAAK,SAACC,GAELN,EAAaM,EAAIC,KAAKK,OAEvB,IACAJ,OAAM,SAACC,GACNC,QAAQC,IAAI,SAAUF,GACM,MAAxBA,EAAII,SAASC,QACfd,EAAa,EAEhB,GAGJ,GAAE,IAEH,IAAMe,EAAIlB,EAAI,MAEdN,aAAayB,QAAQ,cAAeD,GA2BpC,OACE,iBAAKE,UAAU,iBAAf,WACE,qCAAW,qBAAUA,UAAU,WAApB,SAAgCpB,EAAKqB,WAChD,iBAAKD,UAAU,aAAf,WACE,gBAAKA,UAAU,+BAAf,UACE,gBAAKA,UAAU,eAAf,UACE,iBAAKA,UAAU,eAAf,WACE,mCACA,0GAE4BpB,EAAKsB,YAFjC,kMAME,cAAIF,UAAU,aAAaG,MAAO,CAAEC,eAAgB,QAApD,UACA,SAAC,KAAD,CACIC,GAAG,qBACHF,MAAQ,CAACC,eAAgB,QAF7B,UAGG,mBAAQJ,UAAU,WAAlB,yCAQX,gBAAKA,UAAU,+BAAf,UACE,gBAAKA,UAAU,eAAf,UACE,iBAAKA,UAAU,eAAf,WACE,sFAGA,cAAGA,UAAU,aAAaG,MAAO,CAAEC,eAAgB,QAAnD,UACI,cACEE,KAAK,oBACeH,MAAO,CAAEC,eAAgB,QAF/C,UAGC,mBAAQJ,UAAU,WAAlB,uCAOX,gBAAKA,UAAU,+BAAf,UACE,gBAAKA,UAAU,eAAf,UACE,iBAAKA,UAAU,eAAf,WACE,oDACwB,eAAGA,UAAU,MAAb,UAAoBlB,EAApB,OADxB,cAGA,cAAGkB,UAAU,aAAaG,MAAO,CAAEC,eAAgB,QAAnD,UACI,SAAC,KAAD,CACEC,GAAG,0BACHF,MAAO,CAAEC,eAAgB,QAF3B,UAGC,mBAAQJ,UAAU,WAAlB,4CAQb,0BACA,mBAAQA,UAAU,UAAUO,QAvFT,WACrBtB,IAAAA,IAAA,UAAaT,EAAb,yBAA6C,CAC3CgC,aAAc,OACdtB,QAAS,CACPC,cAAc,SAAD,OAAWd,MAGzBe,MAAK,SAACQ,GACL,IAAMa,EAAO,IAAIC,KAAK,CAACd,EAASN,MAAO,CAAEqB,KAAM,uBACzCC,EAAMC,OAAOC,IAAIC,gBAAgBN,GAGjCX,EAAIkB,SAASC,cAAc,KACjCnB,EAAEQ,KAAOM,EACTd,EAAEoB,SAAW,qCACbpB,EAAEqB,QAGFN,OAAOC,IAAIM,gBAAgBR,EAC5B,IACArB,OAAM,SAAC8B,GACN5B,QAAQ4B,MAAM,8BAA+BA,EAC9C,GACJ,EAgEG,qCAIL,C","sources":["components/DashBoard/Home/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Home.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n//import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n//toast.configure();\n\nconst Home = () => {\n  const token = localStorage.getItem('token');\n  // console.log('token', token);\n  const baseUrl = process.env.REACT_APP_BASE_URL;\n\n  const [user, setUser] = useState('');\n  const [numevents, setNumEvents] = useState('10');\n\n  useEffect(() => {\n    axios\n      .get(`${baseUrl}auth/update/`, {\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      })\n      .then((res) => {\n        // console.log('user data=', res.data);\n        setUser(res.data);\n        // console.log('user', user);\n      })\n      .catch((err) => {\n        console.log('error=', err);\n      });\n\n    axios\n      .get(`${baseUrl}teams/`, {\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      })\n      .then((res) => {\n        // console.log(\"numevents data=\",res.data);\n        setNumEvents(res.data.length);\n        // console.log('numevents',numevents);\n      })\n      .catch((err) => {\n        console.log('error=', err);\n        if (err.response.status === 404) {\n          setNumEvents(0);\n        }\n      });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const a = user['email'];\n  // console.log('a=', a);\n  localStorage.setItem('College_Rep', a);\n\n  const handleDownload = () => {\n    axios.get(`${baseUrl}teams/contingent/form`, {\n      responseType: 'blob',\n      headers: {\n        Authorization: `Token ${token}`,\n      }\n    })\n      .then((response) => {\n        const blob = new Blob([response.data], { type: 'application/msword' });\n        const url = window.URL.createObjectURL(blob);\n\n        // Create a temporary anchor element to trigger the download\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'Spardha23_detailed_entry_form.docx';\n        a.click();\n\n        // Release the object URL to free up memory\n        window.URL.revokeObjectURL(url);\n      })\n      .catch((error) => {\n        console.error('Error downloading document:', error);\n      });\n  };\n\n  return (\n    <div className=\"user-dashboard\">\n      <h1>Hello, <username className='username'>{user.name}</username></h1>\n      <div className=\"row_dbHome\">\n        <div className=\"col-xs-10 gutter widthAdjust\">\n          <div className=\"welcome-text\">\n            <div className=\"text-justify\">\n              <h2>Note:</h2>\n              <h3>\n                Since we allow only college registration, so you're\n                supposed to register for {user.institution}. In case you want\n                someone else to register for your college, you need to first\n                delete your account in User Profile section, before another user can create an account with same\n                college name.\n                < u className='linkButton' style={{ textDecoration: 'none' }}>\n                <Link \n                    to=\"/dashboard/profile\"\n                    style={ {textDecoration: 'none' }}\n                  ><button className=\"register\">\n                User Profile</button>\n                  </Link></u>\n              </h3>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"col-xs-10 gutter widthAdjust\">\n          <div className=\"welcome-text\">\n            <div className=\"text-justify\">\n              <h3>\n                Please read the Rule Book before registering for events.\n              </h3>\n              <u className='linkButton' style={{ textDecoration: 'none' }}>\n                  <a\n                    href=\"/pdf/RuleBook.pdf\"\n                                        style={{ textDecoration: 'none' }}\n                  ><butoon className=\"register\">\n                    View RuleBook</butoon>\n                  </a>\n                </u>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-xs-10 gutter widthAdjust\">\n          <div className=\"welcome-text\">\n            <div className=\"text-justify\">\n              <h3>\n                You've registered for <u className='num'>{numevents} </u>events.\n              </h3>\n              <u className='linkButton' style={{ textDecoration: 'none' }}>\n                  <Link\n                    to=\"/dashboard/registration\"\n                    style={{ textDecoration: 'none' }}\n                  ><button className=\"register\">\n                    Add/Edit Events</button>\n                  </Link>\n                </u>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div>\n      <button className=\"btnform\" onClick={handleDownload}>Download Entry Form</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"names":["token","localStorage","getItem","baseUrl","process","REACT_APP_BASE_URL","useState","user","setUser","numevents","setNumEvents","useEffect","axios","headers","Authorization","then","res","data","catch","err","console","log","length","response","status","a","setItem","className","name","institution","style","textDecoration","to","href","onClick","responseType","blob","Blob","type","url","window","URL","createObjectURL","document","createElement","download","click","revokeObjectURL","error"],"sourceRoot":""}